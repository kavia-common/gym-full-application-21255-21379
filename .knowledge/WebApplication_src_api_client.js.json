{"is_source_file": true, "format": "JavaScript", "description": "This file is a JavaScript module implementing an API client for a React web application. It manages authentication tokens, creates an axios instance with interceptors for attaching tokens and normalizing errors, and provides helper functions for performing HTTP requests (GET, POST, PATCH, DELETE) along with a stub for authentication.", "external_files": ["axios"], "external_methods": ["axios.create", "axios.get", "axios.post", "axios.patch", "axios.delete"], "published": ["setAuthToken", "getAuthToken", "apiGet", "apiPost", "apiPatch", "apiDelete", "fakeAuth"], "classes": [], "methods": [{"name": "setAuthToken(token)", "description": "Sets the in-memory authentication token used for subsequent API calls.", "scope": "", "scopeKind": ""}, {"name": "getAuthToken()", "description": "Retrieves the current in-memory authentication token.", "scope": "", "scopeKind": ""}, {"name": "apiGet(url, config = {})", "description": "Performs a GET request to the backend API, returning the response data or throwing a normalized error.", "scope": "", "scopeKind": ""}, {"name": "apiPost(url, body = {}, config = {})", "description": "Performs a POST request to the backend API, returning the response data or throwing a normalized error.", "scope": "", "scopeKind": ""}, {"name": "apiPatch(url, body = {}, config = {})", "description": "Performs a PATCH request to the backend API, returning the response data or throwing a normalized error.", "scope": "", "scopeKind": ""}, {"name": "apiDelete(url, config = {})", "description": "Performs a DELETE request to the backend API, returning the response data or throwing a normalized error.", "scope": "", "scopeKind": ""}, {"name": "fakeAuth(username, password)", "description": "Simulates an authentication process for demo purposes, returning a fake token and role based on the username.", "scope": "", "scopeKind": ""}], "calls": ["axios.create", "axios.get", "axios.post", "axios.patch", "axios.delete", "setAuthToken"], "search-terms": ["axios interceptor", "React API client", "auth token management", "API request helpers", "mock authentication"], "state": 2, "file_id": 13, "knowledge_revision": 28, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_BASE_URL", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^const API_BASE_URL = process.env.REACT_APP_API_URL || 'http:\\/\\/localhost:8000';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "admin@demo", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^    'admin@demo': { role: 'admin' },$/", "language": "JavaScript", "kind": "class", "scope": "fakeAuth.users", "scopeKind": "class"}, {"_type": "tag", "name": "apiDelete", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^export async function apiDelete(url, config = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, config = {})"}, {"_type": "tag", "name": "apiGet", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^export async function apiGet(url, config = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, config = {})"}, {"_type": "tag", "name": "apiPatch", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^export async function apiPatch(url, body = {}, config = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, body = {}, config = {})"}, {"_type": "tag", "name": "apiPost", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^export async function apiPost(url, body = {}, config = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, body = {}, config = {})"}, {"_type": "tag", "name": "err", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^    const err = { status: 401, message: 'Invalid credentials' };$/", "language": "JavaScript", "kind": "class", "scope": "fakeAuth", "scopeKind": "class"}, {"_type": "tag", "name": "fakeAuth", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^export async function fakeAuth(username, password) {$/", "language": "JavaScript", "kind": "function", "signature": "(username, password)"}, {"_type": "tag", "name": "getAuthToken", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^export function getAuthToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "http", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^const http = axios.create({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "inMemoryToken", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^let inMemoryToken = null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "member@demo", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^    'member@demo': { role: 'member' }$/", "language": "JavaScript", "kind": "class", "scope": "fakeAuth.users", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^    const err = { status: 401, message: 'Invalid credentials' };$/", "language": "JavaScript", "kind": "property", "scope": "fakeAuth.err", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^    'admin@demo': { role: 'admin' },$/", "language": "JavaScript", "kind": "property", "scope": "fakeAuth.users.admin@demo", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^    'member@demo': { role: 'member' }$/", "language": "JavaScript", "kind": "property", "scope": "fakeAuth.users.member@demo", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^    'trainer@demo': { role: 'trainer' },$/", "language": "JavaScript", "kind": "property", "scope": "fakeAuth.users.trainer@demo", "scopeKind": "class"}, {"_type": "tag", "name": "setAuthToken", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^export function setAuthToken(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^    const err = { status: 401, message: 'Invalid credentials' };$/", "language": "JavaScript", "kind": "property", "scope": "fakeAuth.err", "scopeKind": "class"}, {"_type": "tag", "name": "trainer@demo", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^    'trainer@demo': { role: 'trainer' },$/", "language": "JavaScript", "kind": "class", "scope": "fakeAuth.users", "scopeKind": "class"}, {"_type": "tag", "name": "users", "path": "/home/kavia/workspace/code-generation/gym-full-application-21255-21379/WebApplication/src/api/client.js", "pattern": "/^  const users = {$/", "language": "JavaScript", "kind": "class", "scope": "fakeAuth", "scopeKind": "class"}], "hash": "ae7cb96e5ea786b9e8404d831cd136dd", "format-version": 4, "code-base-name": "WebApplication", "filename": "WebApplication/src/api/client.js", "fields": [{"name": "let inMemoryToken = null;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const err = { status: 401, message: 'Invalid credentials' };", "scope": "fakeAuth.err", "scopeKind": "class", "description": "unavailable"}, {"name": "'admin@demo': { role: 'admin' },", "scope": "fakeAuth.users.admin@demo", "scopeKind": "class", "description": "unavailable"}, {"name": "'member@demo': { role: 'member' }", "scope": "fakeAuth.users.member@demo", "scopeKind": "class", "description": "unavailable"}, {"name": "'trainer@demo': { role: 'trainer' },", "scope": "fakeAuth.users.trainer@demo", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"28": ""}]}